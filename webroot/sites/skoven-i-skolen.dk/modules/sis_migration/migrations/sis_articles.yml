id: sis_articles
label: Articles
migration_tags: {}
migration_group: migrate
source:
  plugin: d7_node
  node_type: article
process:
  title: title
  created: created
  updated: updated
  'body/format':
    plugin: default_value
    default_value: basic_html
  'body/value': body
  field_subject:
    plugin: migration_lookup
    migration: sis_article_subject
    source: term_id
#  field_media_downloads:
  field_colophon_author:
    plugin: callback
    callable:
      - '\Drupal\sis_migrate\Services\MigrateService'
      - extractAuthor
    source: field_sis_boxout_colophon
  field_colophon_photographer:
    plugin: callback
    callable:
      - '\Drupal\sis_migrate\Services\MigrateService'
      - extractPhotographer
    source: field_sis_boxout_colophon
  field_colophon_editor:
    plugin: callback
    callable:
      - '\Drupal\sis_migrate\Services\MigrateService'
      - extractEditor
    source: field_sis_boxout_colophon
  'field_equipment/format':
    plugin: default_value
    default_value: basic_html
  'field_equipment/value': field_sis_boxout_gear
  field_class:
    plugin: migration_lookup
    migration: sis_article_class
    source: term_id
  field_colophon: field_sis_boxout_colophon
  field_list_date: created
#  field_list_media:
  field_article_months:
    plugin: callback
    callable:
      - '\Drupal\sis_migrate\Services\MigrateService'
      - getMonth
  field_location:
    plugin: migration_lookup
    migration: sis_article_location
    source: term_id
#  field_time:
  field_article_type:
    plugin: sis_article_type
    source: field_taxonomy_category
  'field_teaching_goals/format':
    plugin: default_value
    default_value: basic_html
  'field_teaching_goals/value': field_sis_article_purpose
  field_season:
    plugin: migration_lookup
    migration: sis_article_season
    source: term_id

destination:
  plugin: entity:node
  default_bundle: article
